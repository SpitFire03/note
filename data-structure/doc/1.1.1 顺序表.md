# 顺序表
*注：数组 ≠ 顺序表，数组是一种顺序存储结构，不仅可以存储顺序表，还可以存放其他数据结构，例如堆，图等*

## 1. 属性：
* 存储空间的起始位置：数组data（同时也是第一个数据元素的位置）
* 最大存储长度：数组的最大长度MaxSize
* 当前长度(即存有值的长度):lenth
*注意对于数组来说，最大存储长度一般是不变的，而当前长度是可变的*

## 2. 顺序表的两种实现方式:
* 静态分配（普通数组）
* 动态分配（利用`malloc()`实现的变长数组）

## 3. 存储位置的相关运算：
首先假设1单位`DataType`类型占用$c$个存储单元（通常是字节）
有函数$Loc(a_i)$可取得表中第i个元素的地址
则：
* 线性表中第i+1个数据元素和第i个数据元素的存储位置关系是$$Loc(a_i+1) = Loc(a_i)+c$$
* 所以对于第$i$个数据元素$a_i$的存储位置可以通过$a_1$推得$$Loc(a_i) = Loc(a_1)+c * (i-1)$$

那么明显可得，表中的每一个元素存储位置都可以通过相对第一个元素的存储位置通过线性运算获得，访问时间与元素数目无关。
即**访问数据的时间复杂度为$O(1)$**，称之为**随机存储结构**。

## 4. 插入与删除数据的相关运算：
首先设长度为n的顺序表$\{a_1,a_2,...,a_n\}$
在第i个元素前插入数据元素$a_b$，即$\{a_1,a_2,...,a_b,_i,...,a_n\}$
为此我们需要移动$j$个元素来腾出空位
其中$j=n-i+1 (i = 1,2,...,n)$
如果在表中任一位置插入数据的概率相同，则有$p_i=\frac{1}{n+1}$
平均移动次数$E$:$$E=\frac{1}{n+1}\sum_{i=1}^{n}(n-i+1)=\frac{n}{2}$$
同理，在删除时，移动个数$j=n-i$，所以平均移动次数：$$E=\frac{1}{n}\sum_{i=1}^{n}(n-i)=\frac{n-1}{2}$$
	
即**插入和删除的平均时间复杂度为$O(n)$**。
同理也可得:
最好情况下时间复杂度为$O(1)$ (尾部元素)
最坏情况下时间复杂度为$O(n)$ (头部元素)

## 5. 按值查找的相关运算:
假设目标元素出现在表的任一位置概率相同，则有$p_i=\frac{1}{n}$
平均循环次数$E$:$$E=\frac{1}{n}\sum_{i=1}^{n}i=\frac{n+1}{2}$$
	
即**按值查找的平均时间复杂度为$O(n)$。**
同理也可得:
最好情况下时间复杂度为$O(1)$ (头部元素)
最坏情况下时间复杂度为$O(n)$ (尾部元素)
	
## 6. 顺序表的特点：
* 随机访问，$O(1)$访问任一元素
* 存储密度高
* 不便于扩展容量（不能扩展或扩展需要时间开销）
* 不便于插入，删除数据(从尾部添加数据较快)

## 7. 顺序表基本操作时间复杂度：
* 插入和删除:
	平均：$O(n)$
	最好：$O(1)$
	最差：$O(n)$
* 按位查找: $O(1)$
* 按值查找：
	平均：$O(n)$
	最好：$O(1)$
	最差：$O(n)$